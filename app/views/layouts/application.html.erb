<!DOCTYPE html>
<html lang="en">
<head>
  <title>OpenDig</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js" integrity="sha256-eTyxS0rkjpLEo16uXTS0uVCS4815lc40K2iVpWDvdSY=" crossorigin="anonymous"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flickity/3.0.0/flickity.pkgd.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>
 </head>

<body>
  <!-- Navigation Bar -->
  <nav class="bg-gray-800">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center">
          <div class="flex-shrink-0">
            <!-- Your Logo or Branding Goes Here -->
            <a href="/">
              <img src="/path/to/logo.png" alt="Logo" class="h-8">
            </a>
          </div>
        </div>
        <!-- Navigation Links -->
        <div class="hidden md:block">
          <ul class="ml-10 flex items-baseline space-x-4">
            <li><%= link_to "Home", root_path, class: "text-gray-300 hover:text-white" %></li>
            <li><%= link_to "Registrar Tools", registrar_index_path, class: "text-gray-300 hover:text-white" %></li>
            <li><%= link_to "Bulk Uploader", new_bulk_upload_path, class: "text-gray-300 hover:text-white" %></li>
            <%# if use log in then show log out else show login %>
            <% if user_signed_in? %>
              <li>
                <%= 
                button_to "Logout",
                logout_path,
                method: :delete,
                form: { class: "inline" },
                class: "text-gray-300 hover:text-white bg-transparent p-0 border-0",
                data: { confirm: "Are you sure you want to log out?" } 
                %>
              </li>
            <% else %>
              <li><%= link_to "Login", login_path, class: "text-gray-300 hover:text-white" %></li>
            <% end %>
            <li><%# <%= link_to "Reports", reports_path, class: "text-gray-300 hover:text-white" %></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <div class="container flash">
    <div class="row">
      <div class="col">
        <% flash.each do |name, msg| %>
          <% unless flash_blacklist(name) %>
            <%= content_tag(:div, class: flash_class(name)) do %>
              <%= msg %>
              <button type="button" class="close" data-bs-dismiss="alert">Ã—</button>
            <% end %>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
  <div class="container overflow-y-auto px-10 py-6">
    <%= yield %>
  </div>

</body>
</html>
